<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/reset.css">
    <title>Profile</title>
    <link rel="stylesheet" href="./css/profile-style.css">
    <script src="./js/task-data.js"></script>
</head>

<body>
    <div class="container">
        <div class="left">
            <div id="logo">
                <div id="circle">
                    <div class="l1"></div>
                    <div class="l2"></div>
                    <div class="l3"></div>
                </div>
                <div class="picLogo">
                    <img src="./images/logo.svg" alt="">
                    <div id="text">
                        <h2>Timer</h2>
                        <p>For better time managament</p>

                    </div>
                </div>
            </div>
            <ul>
                <li><a href="./index.html"><img src="./images/home (1).svg" alt=""><span>Home</span></a></li>
                <li style="background-color: red;"><img src="./images/account.svg" alt=""><span>Profile</span></li>
                <li><a href="./task.html"><img src="./images/任务列表 (1).svg" alt=""><span>Task List</span></a></li>
                <li><a href="./music.html"><img src="./images/音乐娱乐.svg" alt=""><span>TimerMusic</span></a></li>
                <li><a href="./dictionary.html"><img src="./images//系统词典.svg" alt=""><span>Dictionary</span></a></li>
            </ul>

        </div>
        <div class="center">
            <div class="center-main">
                <div class="head">
                    <img src="https://img0.baidu.com/it/u=1643004770,1134626375&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500"
                        alt="">
                    <h3>JIAZE SUN</h3>
                </div>
                <ul>
                    <li><span>Email:</span>u12ye@timer.com</li>
                    <li><span>Account:</span>jiazetimer0130</li>
                    <li><span>Occupation:</span>student</li>
                    <li><span>Age:</span>21</li>
                </ul>
                <h2>Calendar</h2>
           
                <div class="item">
                    <div class="first-item">
                        <ul>

                            <li>
                                <h4>DECO11 1006 Assessment 2: User-centred research</h4>
                                <p>Sun May 22 2022</p>
                            </li>
                            <li>
                                <h4>DECO11 1006 Assessment 2: User-centred research</h4>
                                <p>Sun May 22 2022</p>
                            </li>
                            <li>
                                <h4>DECO11 1006 Assessment 2: User-centred research</h4>
                                <p>Sun May 22 2022</p>
                            </li>
                            <li>
                                <h4>DECO11 1006 Assessment 2: User-centred research</h4>
                                <p>Sun May 22 2022</p>
                            </li>

                        </ul>
                    </div>
                    <div class="second-item">

                        <ul class="weekdays">
                            <li>Mo</li>
                            <li>Tu</li>
                            <li>We</li>
                            <li>Th</li>
                            <li>Fr</li>
                            <li>Sa</li>
                            <li>Su</li>
                        </ul>

                        <ul class="days">
                            <li>1</li>
                            <li>2</li>
                            <li>3</li>
                            <li>4</li>
                            <li>5</li>
                            <li>6</li>
                            <li>7</li>
                            <li>8</li>
                            <li>9</li>
                            <li>10</li>
                            <li>11</li>
                            <li>12</li>
                            <li>13</li>
                            <li>14</li>
                            <li>15</li>
                            <li>16</li>
                            <li>17</li>
                            <li>18</li>
                            <li>19</li>
                            <li>20</li>
                            <li>21</li>
                            <li class="active">22</li>
                            <li>23</li>
                            <li>24</li>
                            <li>25</li>
                            <li>26</li>
                            <li>27</li>
                            <li>28</li>
                            <li>29</li>
                            <li>30</li>
                            <li>31</li>
                            <li style="color: rgb(197, 190, 190);">1</li>
                            <li style="color: rgb(197, 190, 190);">2</li>
                            <li style="color: rgb(197, 190, 190);">3</li>
                            <li style="color: rgb(197, 190, 190);">4</li>
                        </ul>
                        <ul class="point" style="margin-top:-20px ;">
                            <li>
                                <div class="a"></div>Completed
                            </li>
                            <li>
                                <div class="a" style="background-color: yellow;"></div>Not Done
                            </li>
                            <li>
                                <div class="a" style="background-color: red;"></div>Approaching
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        </div>
        <div class="right">
            <h2>Performance</h2>
            <ul>
                <li></li>
                <li></li>
                <li></li>
            </ul>
            <h2>Recent Activity</h2>

            <div class="activity">
                <div class="child">
                    <div class="circle"></div>
                    <div class="text">
                        <h6>DECO 2017 Web App Pitch</h6>
                        <p>30 min ago
                        </p>
                        <p style="left: 190px;">7h</p>

                    </div>
                </div>
                <div class="child">
                    <div class="circle"></div>
                    <div class="text">
                        <h6>DECO 2017 Web App Pitch</h6>
                        <p>30 min ago
                        </p>
                        <p style="left: 190px;">7h</p>

                    </div>
                </div>
                <div class="child">
                    <div class="circle"></div>
                    <div class="text">
                        <h6>DECO 2017 Web App Pitch</h6>
                        <p>30 min ago
                        </p>
                        <p style="left: 190px;">7h</p>

                    </div>
                </div>

            </div>
        </div>
    </div>
    <script>
        var taskDue = {};
        var taskStatus = {}
        for (let i = 0; i < tasks.length; i++) {
            const el = tasks[i];
            let key = el.dueDate.split(" ")[2];
            if (!taskDue[key]) {
                taskStatus[key] = true;
                taskDue[key] = [el.name];
            } else {
                taskDue[key].push(el.name);
            }
            if (el.status != 2)
                taskStatus[key] = false;
        }
        d = Object.keys(taskDue);
        let activeIndex = 21;
        let days = document.querySelectorAll(".days li");
        for (let i = 0; i < days.length; i++) {
            days[i].onclick = function () {
                let key = this.textContent;
                console.log(key);
                if (d.indexOf(key) != -1) {
                    let parent = document.querySelector(".first-item ul");
                    parent.innerHTML = "";
                    days[activeIndex].className = "";
                    activeIndex = i;
                    for (let j = 0; j < taskDue[key].length; j++) {
                        const name = taskDue[key][j];
                        let li = document.createElement("li");
                        let h = document.createElement("h4");
                        let p = document.createElement("p");
                        h.textContent = name;
                        p.textContent = new Date(new Date().setDate(key)).toDateString();
                        li.appendChild(h);
                        li.appendChild(p);
                        parent.append(li);
                    }
                    days[i].classList.add("active");

                }
            }
        }

        console.log(taskDue);
    </script>
</body>

</html>